<div class="paginas-conf container-fluid" style="padding: 0px !important">
  <div class="perfil-completo">
    <div class="desc-incial" style="
        display: flex;
        align-items: center;
        justify-content: center;
        border-bottom: 1px solid #8f8f8f;
        padding: 10px 0px 10px 10px;
      ">
      <h5 falarTexto style="margin: 0px">
        {{ "telas.configuracoes-layout.subtitulo" | translate }}
      </h5>
    </div>
    <div class="confDados" style="margin: 10px">
      <div class="dadosPessoais">
        <h5 style="margin-left: 15px" class="mt-3">Configurações Pessoais</h5>
        <div class="perfil">
          <div class="nome" style="
              display: flex;
              border-bottom: 1px solid #8f8f8f;
              padding: 10px 0px 10px 10px;
              margin: 10px;
              justify-content: space-between;
            ">
            <div class="dadosPrincipais" style="display: flex; width: 100%; justify-content: space-between">
              <div class="caracteristica" style="margin-right: 10px">
                <span falarTexto>
                  {{ "telas.configuracoes-layout.fonte" | translate }}:
                </span>
              </div>
              <div class="nome-dado">
                <select #themefont (click)="setFontTheme(themefont.value)" class="form-select form-select-sm"
                  aria-label=".form-select-sm example">
                  <!-- <option selected>Selecione a opção:</option> -->
                  <option falarTexto [selected]="
                      configIniciaisService.fontAtual ==
                      'Roboto, Helvetica Neue, sans-serif'
                    " value="Roboto, Helvetica Neue, sans-serif" selected>
                    Roboto
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontAtual == 'system-ui'" value="system-ui">
                    System-ui
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontAtual == 'monospace'" value="monospace">
                    Monospace
                  </option>
                  <option falarTexto [selected]="
                      configIniciaisService.fontAtual == 'ui-sans-serif'
                    " value="ui-sans-serif">
                    Ui-sans-serif
                  </option>
                </select>
              </div>
            </div>
          </div>
          <div class="nome" style="
              display: flex;
              border-bottom: 1px solid #8f8f8f;
              padding: 10px 0px 10px 10px;
              margin: 10px;
              justify-content: space-between;
            ">
            <div class="dadosPrincipais" style="display: flex; width: 100%; justify-content: space-between">
              <div class="caracteristica" style="margin-right: 10px">
                <span falarTexto>
                  {{ "telas.configuracoes-layout.tamanho" | translate }}:
                </span>
              </div>
              <div class="nome-dado">
                <select #fontes (change)="setFontSize(fontes.value)" class="form-select form-select-sm"
                  aria-label=".form-select-sm example">
                  <!-- <option selected>Selecione a opção:</option> -->
                  <option falarTexto [selected]="configIniciaisService.fontSize == '10'" value="10">
                    10
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '11'" value="11">
                    11
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '12'" value="12">
                    12
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '13'" value="13">
                    13
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '14'" value="14">
                    14
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '15'" value="15">
                    15
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '16'" value="16">
                    16
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '17'" value="17">
                    17
                  </option>
                  <option falarTexto [selected]="configIniciaisService.fontSize == '18'" value="18">
                    18
                  </option>
                </select>
              </div>
            </div>
          </div>
          <div class="nome" style="
              display: flex;
              border-bottom: 1px solid #8f8f8f;
              padding: 10px 0px 10px 10px;
              margin: 10px;
              justify-content: space-between;
            ">
            <div class="dadosPrincipais" style="display: flex; width: 100%; justify-content: space-between">
              <div class="caracteristica" style="margin-right: 10px">
                <span falarTexto>
                  Botões de Áudio e Fala:
                </span>
              </div>
              <div style="padding: 0px !important; transition: background-color 0.2s, color 0.2s, border-color 0.2s, box-shadow 0.2s; border-radius: 30px; margin-right: 1vh;">
                <p-inputSwitch [(ngModel)]="checked" (ngModelChange)="onCheckedChange()"></p-inputSwitch>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-end" style="margin-right: 10px">
            <button (click)="redefinir()" class="btn btn-outline-primary">Redefinir Configurações</button>
          </div>
          <div *ngIf="nivelAcesso == 'GestorTI'">
            <h5 style="margin-left: 15px" class="mt-3">Configurações Gerais (Para todos os usuários)</h5>
            <div class="nome" style="padding: 10px 0px 10px 10px; margin: 10px">
              <div class="caracteristica mb-3" style="margin-right: 10px">
                <span falarTexto> {{ "telas.configuracoes-layout.personalizacao" | translate }} </span>
              </div>
              <div class="dadosPrincipais" style="
                  width: 100%;
                ">
                <div class="d-flex justify-content-between">
                  <div class="p-3 border rounded" style="max-width: 50%">
                    {{ "telas.configuracoes-layout.descricao1" | translate }}
                    <br />
                    <br />
                    <b>OBS:</b>
                    {{ "telas.configuracoes-layout.descricao2" | translate }}
                  </div>
                  <div style="width: 45%">
                    <span class="my-3">{{ "telas.configuracoes-layout.descricao3" | translate }}</span>
                    <ul class="list-group list-items">
                      <li role="button" *ngFor="
                          let option of opcoesPersonalizacao;
                          let i = index
                        "
                        class="list-group-item list-group-item-action d-flex justify-content-between align-items-center gap-2"
                        style="z-index: 0 !important;"
                        (click)="trocarPersonalizacao(option)" [class.active]="personalizacaoEscolhida == option">
                        <span>
                          {{ option.nomePersonalizacao }}
                        </span>
                        <div class="d-flex gap-2">
                          <button class="btn btn-sm" [ngClass]="[
                              personalizacaoEscolhida == option
                                ? 'btn-info'
                                : 'btn-primary',
                              option.ativaPersonalizacao ? 'disabled' : ''
                            ]" (click)="definirAtivo(i)" [disabled]="option.ativaPersonalizacao">
                            {{ "telas.configuracoes-layout.definir-ativo" | translate }}
                          </button>
                          <i class="bi bi-trash3" role="button" style="font-size: 16px"
                            (click)="deletarPersonalizacao(i)"></i>
                        </div>
                      </li>
                    </ul>
                    <div *ngIf="novaPersoDemanda" class="d-flex gap-2">
                      <input type="text" pInputText #input />
                      <button class="btn btn-primary" (click)="criarNovaPersonalizacao(input.value)">
                        {{ "telas.configuracoes-layout.criar-nova" | translate }}
                      </button>
                      <button class="btn btn-danger" (click)="novaPersoDemanda = !novaPersoDemanda">
                        {{ "telas.configuracoes-layout.cancelar" | translate }}
                      </button>
                    </div>
                    <div class="d-flex justify-content-end" *ngIf="!novaPersoDemanda">
                      <button class="btn btn-outline-primary my-3" (click)="novaPersoDemanda = !novaPersoDemanda">
                        {{ "telas.configuracoes-layout.criar-personalizacao" | translate }}
                      </button>
                    </div>
                  </div>
                </div>
                <!-- <select
                  (
                  class="form-select form-select-sm"
                  aria-label=".form-select-sm example"
                >
                  <option selected>Selecione a opção:</option>
                  <option
                    falarTexto
                    *ngFor="let option of opcoesPersonalizacao; let i = index"
                    [selected]="option.ativaPersonalizacao"
                    [value]="i"
                    selected
                  >
                    {{ option.nomePersonalizacao }}
                  </option>
                </select> -->
              </div>
              <div *ngIf="this.personalizacaoEscolhida != undefined">
                <div class="caracteristica my-3" style="margin-right: 10px">
                  <span falarTexto>{{ "telas.configuracoes-layout.cores-demandas" | translate }} </span>
                </div>
                <div class="py-3 px-1 border rounded" style="
                    display: flex;
                    justify-content: center;
                    margin-top: 1vw;
                  ">
                  <div class="flex-1 flex flex-column align-items-center gap-3 mx-2"
                    *ngFor="let list of listOfColorsStatusDemand; let i = index">
                    <input (ngModelChange)="changePrimaryColor($event, i, 'demanda')" type="text" class="form-control"
                      [(ngModel)]="list.corPrimaria" />
                    <input (ngModelChange)="
                        changeSecondaryColor($event, i, 'demanda')
                      " type="text" class="form-control" [(ngModel)]="list.corSecundaria" />
                    <div style="display: flex">
                      <p-colorPicker (ngModelChange)="
                          changePrimaryColor($event, i, 'demanda')
                        " [(ngModel)]="list.corPrimaria"></p-colorPicker>
                      <p-colorPicker (ngModelChange)="
                          changeSecondaryColor($event, i, 'demanda')
                        " id="cor-secundaria" [(ngModel)]="list.corSecundaria">
                      </p-colorPicker>
                    </div>
                    <label style="font-size: 10px" htmlFor="cp-hex" class="font-bold block mb-2">
                      {{ list.status }}</label>
                  </div>
                </div>
                <div style="
                    display: flex;
                    margin-top: 1.5vw;
                    margin-left: 1vw;
                    margin-bottom: 0.5vw;
                  ">
                  <div class="d-f">
                    <app-list-demanda [dadosDemanda]="demanda" [primaryColor]="primaryColorSelected"
                      [secondaryColor]="secondaryColorSelected" style="
                        display: flex;
                        align-items: center;
                        margin-bottom: 1vw;
                      "></app-list-demanda>
                    <div class="d-flex">
                      <app-card-demanda [dadosDemanda]="demanda" [primaryColor]="primaryColorSelected"
                        [secondaryColor]="secondaryColorSelected" *ngIf="tipoExibicaoDemanda"
                        style="margin-right: 1vw"></app-card-demanda>
                      <app-card-demanda [dadosDemanda]="demanda" [primaryColor]="primaryColorSelected"
                        [secondaryColor]="secondaryColorSelected" *ngIf="tipoExibicaoDemanda"
                        [mudarTamanho]="'47vw'"></app-card-demanda>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <hr />
            <div class="nome" style="padding: 10px 0px 10px 10px; margin: 10px">
              <div class="dadosPrincipais" style="
                  display: flex;
                  width: 100%;
                  justify-content: space-between;
                ">
                <div class="caracteristica" style="margin-right: 10px">
                  <span falarTexto> {{ "telas.configuracoes-layout.cores-reuniao" | translate }} </span>
                </div>
              </div>
              <div class="py-3 px-1 border rounded" style="display: flex; justify-content: center; margin-top: 1vw">
                <div class="flex-1 flex flex-column align-items-center gap-3 mx-2"
                  *ngFor="let list of listOfColorsStatusReuniao; let i = index">
                  <input (ngModelChange)="changePrimaryColor($event, i, 'reuniao')" type="text" class="form-control"
                    [(ngModel)]="list.corPrimaria" />
                  <input (ngModelChange)="changeSecondaryColor($event, i, 'reuniao')" type="text" class="form-control"
                    [(ngModel)]="list.corSecundaria" />

                  <div style="display: flex">
                    <p-colorPicker (ngModelChange)="changePrimaryColor($event, i, 'reuniao')"
                      [(ngModel)]="list.corPrimaria"></p-colorPicker>
                    <p-colorPicker (ngModelChange)="
                        changeSecondaryColor($event, i, 'reuniao')
                      " id="cor-secundaria" [(ngModel)]="list.corSecundaria">
                    </p-colorPicker>
                  </div>
                  <label style="font-size: 10px" htmlFor="cp-hex" class="font-bold block mb-2">
                    {{ list.status }}</label>
                </div>
              </div>

              <div style="
                  display: flex;
                  margin-top: 1.5vw;
                  margin-left: 1vw;
                  margin-bottom: 0.5vw;
                ">
                <app-card-reuniao [dadosReuniao]="reuniao" [primaryColor]="primaryColorReuniaoSelected"
                  [secondaryColor]="secondaryColorReuniaoSelected" style="width: 100%"></app-card-reuniao>
              </div>

              <div class="d-flex justify-content-end gap-2 my-3">
                <button class="btn btn-primary" (click)="editarPersonalizacao()">
                  {{ "telas.configuracoes-layout.salvar-alteracao" | translate }}
                </button>
                <button class="btn btn-primary" (click)="salvarEDefinirAtivo()">
                  {{ "telas.configuracoes-layout.salvar-ativo" | translate }}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p-toast></p-toast>